/*! mortgage-calc 2017-03-29 */
$(document).foundation();var app=angular.module("MortgageApp",["ngAnimate"]);app.controller("MainController",function($scope,$http){$scope.details={},$scope.savedMortgages=[],$scope.mortgageDetails=!1,$scope.calc={homeValue:3e5,loanAmount:24e4,interestRate:4,loanTerm:30,note:"A Simple Note."},$scope.submitForm=function(item){var d=new Date,year=d.getFullYear();$scope.mortgageDetails=!0,console.log(item),item.loanTerm=parseInt(item.loanTerm),item.interestRate=parseInt(item.interestRate),item.loanAmount=parseInt(item.loanAmount),item.homeValue=parseFloat(item.homeValue).toFixed(2),$scope.details.loanTermMonths=12*item.loanTerm,$scope.details.payOffYear=year+item.loanTerm,$scope.details.downPayment=item.homeValue-item.loanAmount,$scope.monthlyInterestRate=item.interestRate/100/12,$scope.principal=parseFloat(item.loanAmount).toFixed(2),$scope.payments=$scope.details.loanTermMonths,$scope.tempCenter=Number(parseFloat(Math.pow(1+$scope.monthlyInterestRate,$scope.payments)).toFixed(3)).toFixed(8),console.log($scope.tempCenter),$scope.getMortgage=parseFloat($scope.principal*($scope.monthlyInterestRate*$scope.tempCenter/($scope.tempCenter-1))).toFixed(2),$scope.monthlyInterestPaid=parseFloat(($scope.principal-$scope.payments)/$scope.getMortgage).toFixed(2),$scope.totalInterestPaid=parseFloat($scope.getMortgage*$scope.payments-$scope.principal).toFixed(2),$scope.totalEverything=parseFloat($scope.totalInterestPaid)+parseFloat(item.homeValue),$scope.mortgageObj={amount:item.homeValue,loan:item.loanAmount,term:item.loanTerm,interestRate:parseFloat(item.interestRate).toFixed(2),interestMonth:$scope.monthlyInterestPaid,interestTotal:$scope.totalInterestPaid,downPayment:$scope.details.downPayment,note:item.note,completeCost:$scope.totalEverything},$scope.savedMortgages.push($scope.mortgageObj),$scope.calc={},$scope.calcF.$setPristine(),$("html,body").animate({scrollTop:$("#detail-box").offset().top},"slow")},$scope.removeItem=function(id,item){console.log(id),$scope.savedMortgages.splice(id,1),console.log($scope.savedMortgages)},$scope.eraseAllQuotes=function(){$scope.savedMortgages=[],console.log("All Quotes have Been Erased.")},$scope.viewItem=function(item){$scope.popDetails=item.note,console.log($scope.popDetails)}});var customScripts={scrollTop:function(){$(window).scroll(function(){$(this).scrollTop()>100?$(".topHome").fadeIn():$(".topHome").fadeOut()})},scrollAnchors:function(){$("a[href*=#]").bind("click",function(e){var anchor=$(this);$("html, body").stop().animate({scrollTop:$(anchor.attr("href")).offset().top},1e3),e.preventDefault()})},init:function(){customScripts.scrollTop(),customScripts.scrollAnchors()}};$("document").ready(function(){customScripts.init()});